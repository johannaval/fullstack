(this["webpackJsonplibrary-frontend-pohja"]=this["webpackJsonplibrary-frontend-pohja"]||[]).push([[0],{64:function(t,e,n){"use strict";n.r(e);var r,c,a,s,j=n(4),o=n(50),i=n.n(o),b=n(7),u=n(23),l=n(27),h=n.n(l),d=n(35),O=n(75),x=n(67),v=n(2),p=Object(O.a)(r||(r=Object(u.a)(["\nmutation edit_author($name: String!, $setBornTo: Int!) {\n  edit_author(\n    name: $name,\n    setBornTo: $born,\n  ) {\n    name\n    born\n  }\n}\n"]))),f=function(t){var e=Object(j.useState)(""),n=Object(b.a)(e,2),r=n[0],c=n[1],a=Object(j.useState)(""),s=Object(b.a)(a,2),o=s[0],i=s[1],u=Object(x.a)(p),l=Object(b.a)(u,1)[0],O=function(){var t=Object(d.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),l({variables:{name:r,born:o}}),c(""),i("");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();if(!t.show)return null;var f=t.authors;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{children:"authors"}),Object(v.jsx)("table",{children:Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{}),Object(v.jsx)("th",{children:"born"}),Object(v.jsx)("th",{children:"books"})]}),f.map((function(t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:t.name}),Object(v.jsx)("td",{children:t.born}),Object(v.jsx)("td",{children:t.bookCount})]},t.name)}))]})}),Object(v.jsx)("br",{}),Object(v.jsxs)("form",{onSubmit:O,children:[Object(v.jsx)("h2",{children:"Set birthyear"}),Object(v.jsxs)("div",{children:["author",Object(v.jsx)("input",{value:r,onChange:function(t){var e=t.target;return c(e.value)}})]}),Object(v.jsxs)("div",{children:["author",Object(v.jsx)("input",{value:o,onChange:function(t){var e=t.target;return i(e.value)}})]}),Object(v.jsx)("button",{type:"submit",children:"update author"})]})]})},g=function(t){if(!t.show)return null;var e=t.books;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{children:"books"}),Object(v.jsx)("table",{children:Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{}),Object(v.jsx)("th",{children:"author"}),Object(v.jsx)("th",{children:"published"})]}),e.map((function(t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:t.title}),Object(v.jsx)("td",{children:t.author}),Object(v.jsx)("td",{children:t.published})]},t.title)}))]})})]})},k=Object(O.a)(c||(c=Object(u.a)(["\nmutation createBook($title: String!, $author: String!, $published: Int!, $genres: [String!]!) {\n  addBook(\n    title: $title,\n    author: $author,\n    published: $published,\n    genres: $genres\n  ) {\n    title\n    author\n    published\n    genres\n  }\n}\n"]))),m=function(t){var e=Object(j.useState)(""),n=Object(b.a)(e,2),r=n[0],c=n[1],a=Object(j.useState)(""),s=Object(b.a)(a,2),o=s[0],i=s[1],u=Object(j.useState)(""),l=Object(b.a)(u,2),O=l[0],p=l[1],f=Object(j.useState)(""),g=Object(b.a)(f,2),m=g[0],w=g[1],S=Object(j.useState)([]),y=Object(b.a)(S,2),C=y[0],$=y[1],B=Object(x.a)(k),I=Object(b.a)(B,1)[0];if(!t.show)return null;var q=function(){var t=Object(d.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),I({variables:{title:r,published:parseInt(O,10),author:o,genres:C}}),console.log("add book..."),c(""),p(""),i(""),$([]),w("");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(v.jsx)("div",{children:Object(v.jsxs)("form",{onSubmit:q,children:[Object(v.jsxs)("div",{children:["title",Object(v.jsx)("input",{value:r,onChange:function(t){var e=t.target;return c(e.value)}})]}),Object(v.jsxs)("div",{children:["author",Object(v.jsx)("input",{value:o,onChange:function(t){var e=t.target;return i(e.value)}})]}),Object(v.jsxs)("div",{children:["published",Object(v.jsx)("input",{type:"number",value:Number(O),onChange:function(t){var e=t.target;return p(e.value)}})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("input",{value:m,onChange:function(t){var e=t.target;return w(e.value)}}),Object(v.jsx)("button",{onClick:function(){$(C.concat(m)),w("")},type:"button",children:"add genre"})]}),Object(v.jsxs)("div",{children:["genres: ",C.join(" ")]}),Object(v.jsx)("button",{type:"submit",children:"create book"})]})})},w=n(73),S=Object(O.a)(a||(a=Object(u.a)(["\n  query {\n    allAuthors  {\n      name\n      born\n      bookCount\n      id\n    }\n  }\n"]))),y=Object(O.a)(s||(s=Object(u.a)(["\n  query {\n    allBooks  {\n      title\n      published\n      author\n      id\n    }\n  }\n"]))),C=function(){var t=Object(w.a)(S,{pollInterval:2e3}),e=Object(w.a)(y,{pollInterval:2e3}),n=Object(j.useState)("authors"),r=Object(b.a)(n,2),c=r[0],a=r[1];return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{onClick:function(){return a("authors")},children:"authors"}),Object(v.jsx)("button",{onClick:function(){return a("books")},children:"books"}),Object(v.jsx)("button",{onClick:function(){return a("add")},children:"add book"})]}),Object(v.jsx)(f,{show:"authors"===c,authors:t.data.allAuthors}),Object(v.jsx)(g,{show:"books"===c,books:e.data.allBooks}),Object(v.jsx)(m,{show:"add"===c})]})},$=n(54),B=n(77),I=n(76),q=n(74),A=new $.a({cache:new B.a,link:new I.a({uri:"http://localhost:4000"})});i.a.render(Object(v.jsx)(q.a,{client:A,children:Object(v.jsx)(C,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.55f11cb0.chunk.js.map